<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>经济数学题解（答案可折叠）</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --light-bg: #f8f9fa;
            --card-bg: #ffffff;
            --text-primary: #333333;
            --text-secondary: #666666;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.12);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* 页面标题样式 */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 20px var(--shadow-medium);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* 控制面板 */
        .control-panel {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 6px 15px var(--shadow-light);
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .control-btn {
            padding: 12px 24px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-btn:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .control-btn i {
            font-size: 1.1rem;
        }

        /* 题目卡片样式 */
        .problem-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 6px 15px var(--shadow-light);
            padding: 30px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .problem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px var(--shadow-medium);
        }

        .problem-number {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            text-align: center;
            line-height: 36px;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-bg);
        }

        .problem-content {
            background-color: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
            margin-bottom: 25px;
        }

        .problem-content h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .problem-content h3 i {
            margin-right: 10px;
            color: var(--secondary-color);
        }

        /* 隐藏答案区域样式 */
        .hidden-answer {
            margin-top: 20px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            overflow: hidden;
        }

        .toggle-btn {
            width: 100%;
            padding: 16px;
            background-color: var(--light-bg);
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toggle-btn:hover {
            background-color: #e9ecef;
        }

        .toggle-btn i {
            transition: var(--transition);
        }

        .toggle-btn.active i {
            transform: rotate(180deg);
        }

        .answer-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.5s ease;
        }

        .answer-content.expanded {
            padding: 25px;
            max-height: 2000px;
        }

        .solution, .concept {
            margin-bottom: 25px;
        }

        .solution {
            background-color: #f0f7ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }

        .concept {
            background-color: #f9f7ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #9b59b6;
        }

        .subtitle {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .subtitle i {
            margin-right: 10px;
            color: var(--secondary-color);
        }

        .solution .subtitle i {
            color: var(--accent-color);
        }

        .concept .subtitle i {
            color: #9b59b6;
        }

        /* 数学公式样式 */
        .math-formula {
            font-size: 1.1rem;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            margin: 15px 0;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid #eaeaea;
            transition: var(--transition);
            overflow-x: auto;
        }

        .math-formula:hover {
            transform: scale(1.01);
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.08);
        }

        .step {
            margin-bottom: 15px;
            padding-left: 10px;
        }

        .step-number {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-weight: 700;
            margin-right: 10px;
            font-size: 0.9rem;
        }

        /* 概念表格样式 */
        .concept-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        }

        .concept-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .concept-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .concept-table tr:last-child td {
            border-bottom: none;
        }

        .concept-table tr:hover {
            background-color: #f5f9ff;
        }

        /* 核心概念汇总样式 */
        .concepts-summary {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 6px 15px var(--shadow-light);
            padding: 30px;
            margin-top: 40px;
        }

        .concept-item {
            display: flex;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .concept-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .concept-icon {
            flex-shrink: 0;
            width: 60px;
            height: 60px;
            background-color: var(--secondary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            color: white;
            font-size: 1.5rem;
        }

        .concept-details h4 {
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        .concept-details p {
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .concept-formula {
            font-family: 'Courier New', monospace;
            background-color: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
            color: var(--accent-color);
            font-weight: 600;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .control-panel {
                flex-direction: column;
            }
            
            .control-btn {
                width: 100%;
                justify-content: center;
            }
            
            .concept-item {
                flex-direction: column;
            }
            
            .concept-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }
        }

        /* 打印样式 */
        @media print {
            .toggle-btn {
                display: none;
            }
            
            .answer-content {
                max-height: none !important;
                padding: 25px !important;
                display: block !important;
            }
            
            .problem-card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 页面标题 -->
        <div class="header">
            <h1>经济数学题解（答案可折叠）</h1>
            <p>点击"显示答案"按钮查看详细解题过程和概念解析</p>
        </div>
        
        <!-- 控制面板 -->
        <div class="control-panel">
            <button class="control-btn" id="expand-all">
                <i class="fas fa-expand-alt"></i> 展开所有答案
            </button>
            <button class="control-btn" id="collapse-all">
                <i class="fas fa-compress-alt"></i> 折叠所有答案
            </button>
            <button class="control-btn" id="toggle-random">
                <i class="fas fa-random"></i> 随机展开一个
            </button>
        </div>
        
        <!-- 题目1 -->
        <div class="problem-card" id="problem1">
            <div class="problem-number">1</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>某厂生产某种产品，每日最多生产1000件，日总成本 \( C \)（元）是日产量 \( Q \)（件）的函数，</p>
                <div class="math-formula">
                    \[C = 1000 + 7Q + 50\sqrt{Q}, \quad Q \in [0,1000],\]
                </div>
                <p>求日产量为100件时的平均成本和边际成本。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer1">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer1">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>平均成本计算</strong>
                                <p>平均成本 \( \overline{C}(Q) \) 定义为总成本除以产量：</p>
                                <div class="math-formula">
                                    \[\overline{C}(Q) = \frac{C(Q)}{Q} = \frac{1000 + 7Q + 50\sqrt{Q}}{Q} = \frac{1000}{Q} + 7 + \frac{50}{\sqrt{Q}}\]
                                </div>
                                <p>当 \( Q = 100 \) 时：</p>
                                <div class="math-formula">
                                    \[\overline{C}(100) = \frac{1000}{100} + 7 + \frac{50}{\sqrt{100}} = 10 + 7 + \frac{50}{10} = 10 + 7 + 5 = 22\]
                                </div>
                                <p>所以平均成本为 <strong>22元/件</strong>。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>边际成本计算</strong>
                                <p>边际成本 \( MC(Q) \) 定义为总成本函数对产量 \( Q \) 的导数：</p>
                                <div class="math-formula">
                                    \[MC(Q) = C'(Q) = \frac{d}{dQ}(1000 + 7Q + 50\sqrt{Q}) = 7 + 50 \cdot \frac{1}{2} Q^{-1/2} = 7 + \frac{25}{\sqrt{Q}}\]
                                </div>
                                <p>当 \( Q = 100 \) 时：</p>
                                <div class="math-formula">
                                    \[MC(100) = 7 + \frac{25}{\sqrt{100}} = 7 + \frac{25}{10} = 7 + 2.5 = 9.5\]
                                </div>
                                <p>所以边际成本为 <strong>9.5元/件</strong>。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>平均成本</strong>：生产单位产品所需的平均成本，等于总成本除以产量。</p>
                            <p><strong>边际成本</strong>：产量每增加一个单位时，总成本的增加量，数学上为总成本函数的一阶导数。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>概念名称</th>
                                        <th>数学表达式</th>
                                        <th>本题计算结果</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>平均成本</td>
                                        <td>\( \overline{C}(Q) = \frac{C(Q)}{Q} \)</td>
                                        <td>22 元/件</td>
                                    </tr>
                                    <tr>
                                        <td>边际成本</td>
                                        <td>\( MC(Q) = C'(Q) \)</td>
                                        <td>9.5 元/件</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：当日产量为100件时，每件产品的平均生产成本为22元；而每多生产一件产品，成本将增加9.5元。边际成本低于平均成本，说明生产效率较高。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目2 -->
        <div class="problem-card" id="problem2">
            <div class="problem-number">2</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>设某产品的需求函数 \( Q = 100 - 5P \)，其中 \( P \) 为价格，\( Q \) 为需求量。求边际收益函数以及当 \( Q = 20 \)、50 和 70 个单位时的边际收益，并解释它们的经济意义。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer2">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer2">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求收益函数</strong>
                                <p>收益 \( R \) 等于价格乘以销售量：</p>
                                <div class="math-formula">
                                    \[R = P \times Q\]
                                </div>
                                <p>由需求函数 \( Q = 100 - 5P \) 得 \( P = \frac{100 - Q}{5} = 20 - \frac{Q}{5} \)，代入收益函数：</p>
                                <div class="math-formula">
                                    \[R(Q) = P \cdot Q = \left(20 - \frac{Q}{5}\right) \cdot Q = 20Q - \frac{Q^2}{5}\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>求边际收益函数</strong>
                                <p>边际收益 \( MR(Q) \) 是收益函数对销售量 \( Q \) 的导数：</p>
                                <div class="math-formula">
                                    \[MR(Q) = R'(Q) = \frac{d}{dQ}\left(20Q - \frac{Q^2}{5}\right) = 20 - \frac{2Q}{5}\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>计算特定产量下的边际收益</strong>
                                <p>当 \( Q = 20 \) 时：</p>
                                <div class="math-formula">
                                    \[MR(20) = 20 - \frac{2 \times 20}{5} = 20 - 8 = 12\]
                                </div>
                                <p>当 \( Q = 50 \) 时：</p>
                                <div class="math-formula">
                                    \[MR(50) = 20 - \frac{2 \times 50}{5} = 20 - 20 = 0\]
                                </div>
                                <p>当 \( Q = 70 \) 时：</p>
                                <div class="math-formula">
                                    \[MR(70) = 20 - \frac{2 \times 70}{5} = 20 - 28 = -8\]
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>边际收益</strong>：销售量每增加一个单位时，总收益的增加量，数学上为收益函数的一阶导数。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>销售量 \( Q \)</th>
                                        <th>边际收益 \( MR(Q) \)</th>
                                        <th>经济意义</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>20</td>
                                        <td>12</td>
                                        <td>销售量在20单位时，每多销售1单位产品，总收益增加12元</td>
                                    </tr>
                                    <tr>
                                        <td>50</td>
                                        <td>0</td>
                                        <td>销售量在50单位时，收益达到最大值，再多销售不会增加总收益</td>
                                    </tr>
                                    <tr>
                                        <td>70</td>
                                        <td>-8</td>
                                        <td>销售量在70单位时，每多销售1单位产品，总收益减少8元</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：边际收益反映了销售量变化对总收益的影响。当边际收益为正时，增加销售量能增加总收益；当边际收益为零时，总收益达到最大；当边际收益为负时，增加销售量反而会减少总收益。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目3 -->
        <div class="problem-card" id="problem3">
            <div class="problem-number">3</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>设某产品的成本函数和收益函数分别为</p>
                <div class="math-formula">
                    \[C(Q) = 100 + 5Q + 2Q^2, \quad R(Q) = 200Q + Q^2,\]
                </div>
                <p>其中 \( Q \) 表示产品的产量，求：</p>
                <p>（1）边际成本函数，边际收益函数，边际利润函数；</p>
                <p>（2）已生产并销售 25 个单位产品，第 26 个单位产品会有多少利润？</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer3">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer3">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求边际成本函数</strong>
                                <p>边际成本是成本函数的一阶导数：</p>
                                <div class="math-formula">
                                    \[MC(Q) = C'(Q) = \frac{d}{dQ}(100 + 5Q + 2Q^2) = 5 + 4Q\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>求边际收益函数</strong>
                                <p>边际收益是收益函数的一阶导数：</p>
                                <div class="math-formula">
                                    \[MR(Q) = R'(Q) = \frac{d}{dQ}(200Q + Q^2) = 200 + 2Q\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>求利润函数和边际利润函数</strong>
                                <p>利润函数 \( L(Q) = R(Q) - C(Q) \)：</p>
                                <div class="math-formula">
                                    \[L(Q) = (200Q + Q^2) - (100 + 5Q + 2Q^2) = 195Q - Q^2 - 100\]
                                </div>
                                <p>边际利润函数是利润函数的一阶导数：</p>
                                <div class="math-formula">
                                    \[ML(Q) = L'(Q) = \frac{d}{dQ}(195Q - Q^2 - 100) = 195 - 2Q\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">4</span>
                                <strong>计算第26个单位产品的利润</strong>
                                <p>已生产并销售25个单位产品，第26个单位产品的利润近似等于产量为25时的边际利润：</p>
                                <div class="math-formula">
                                    \[ML(25) = 195 - 2 \times 25 = 195 - 50 = 145\]
                                </div>
                                <p>所以第26个单位产品带来的利润约为 <strong>145元</strong>。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>边际利润</strong>：产量每增加一个单位时，总利润的增加量，数学上为利润函数的一阶导数，也等于边际收益减去边际成本。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>函数名称</th>
                                        <th>数学表达式</th>
                                        <th>计算结果</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>边际成本函数</td>
                                        <td>\( MC(Q) = 5 + 4Q \)</td>
                                        <td>当 \( Q=25 \) 时，\( MC=105 \)</td>
                                    </tr>
                                    <tr>
                                        <td>边际收益函数</td>
                                        <td>\( MR(Q) = 200 + 2Q \)</td>
                                        <td>当 \( Q=25 \) 时，\( MR=250 \)</td>
                                    </tr>
                                    <tr>
                                        <td>边际利润函数</td>
                                        <td>\( ML(Q) = 195 - 2Q \)</td>
                                        <td>当 \( Q=25 \) 时，\( ML=145 \)</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：边际利润表示每增加一单位产量所带来的利润变化。当边际利润为正时，增加产量可以增加总利润；当边际利润为负时，增加产量会减少总利润。本题中第26个单位产品带来的利润约为145元，说明此时增加产量是有利可图的。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目4 -->
        <div class="problem-card" id="problem4">
            <div class="problem-number">4</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>设某商品的需求函数为 \( Q = e^{\frac{P}{5}} \)，其中 \( P \) 为价格，求：</p>
                <p>（1）需求弹性函数；</p>
                <p>（2）\( P = 3,5,6 \) 时的需求弹性，并说明其经济意义。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer4">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer4">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求需求弹性函数</strong>
                                <p>需求弹性 \( E_d \) 定义为需求量变化率与价格变化率的比值：</p>
                                <div class="math-formula">
                                    \[E_d = \frac{dQ}{dP} \cdot \frac{P}{Q}\]
                                </div>
                                <p>由 \( Q = e^{\frac{P}{5}} \) 得 \( \frac{dQ}{dP} = \frac{1}{5} e^{\frac{P}{5}} = \frac{Q}{5} \)</p>
                                <p>代入需求弹性公式：</p>
                                <div class="math-formula">
                                    \[E_d = \frac{dQ}{dP} \cdot \frac{P}{Q} = \frac{Q}{5} \cdot \frac{P}{Q} = \frac{P}{5}\]
                                </div>
                                <p>所以需求弹性函数为 \( E_d = \frac{P}{5} \)。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>计算特定价格下的需求弹性</strong>
                                <p>当 \( P = 3 \) 时：</p>
                                <div class="math-formula">
                                    \[E_d = \frac{3}{5} = 0.6\]
                                </div>
                                <p>当 \( P = 5 \) 时：</p>
                                <div class="math-formula">
                                    \[E_d = \frac{5}{5} = 1\]
                                </div>
                                <p>当 \( P = 6 \) 时：</p>
                                <div class="math-formula">
                                    \[E_d = \frac{6}{5} = 1.2\]
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>需求弹性</strong>：衡量需求量对价格变动的敏感程度。需求弹性的绝对值越大，表示需求量对价格变动越敏感。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>价格 \( P \)</th>
                                        <th>需求弹性 \( E_d \)</th>
                                        <th>弹性类型</th>
                                        <th>经济意义</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>3</td>
                                        <td>0.6</td>
                                        <td>缺乏弹性 (\( |E_d| < 1 \))</td>
                                        <td>价格变动1%，需求量变动0.6%，需求量对价格变动不敏感</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>1</td>
                                        <td>单位弹性 (\( |E_d| = 1 \))</td>
                                        <td>价格变动1%，需求量也变动1%，总收益不变</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>1.2</td>
                                        <td>富有弹性 (\( |E_d| > 1 \))</td>
                                        <td>价格变动1%，需求量变动1.2%，需求量对价格变动敏感</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>注意</strong>：本题需求弹性为正，是因为需求函数 \( Q = e^{P/5} \) 是递增函数，表示价格上升时需求量也上升，这不符合一般商品的需求规律，可能是一种吉芬商品或特殊情况。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目5 -->
        <div class="problem-card" id="problem5">
            <div class="problem-number">5</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>某企业生产一种商品，年需求量 \( Q \) 是价格 \( P \) 的函数 \( Q = 100 - 2P \)，试求：</p>
                <p>（1）需求弹性；</p>
                <p>（2）需求弹性为-1 时的价格。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer5">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer5">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求需求弹性函数</strong>
                                <p>需求弹性 \( E_d = \frac{dQ}{dP} \cdot \frac{P}{Q} \)</p>
                                <p>由 \( Q = 100 - 2P \) 得 \( \frac{dQ}{dP} = -2 \)</p>
                                <p>代入需求弹性公式：</p>
                                <div class="math-formula">
                                    \[E_d = (-2) \cdot \frac{P}{Q} = -2 \cdot \frac{P}{100 - 2P} = \frac{-2P}{100 - 2P} = \frac{-P}{50 - P}\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>求需求弹性为-1时的价格</strong>
                                <p>令 \( E_d = -1 \)：</p>
                                <div class="math-formula">
                                    \[\frac{-P}{50 - P} = -1\]
                                </div>
                                <p>解得：</p>
                                <div class="math-formula">
                                    \[-P = -1 \cdot (50 - P) = -50 + P\]
                                    \[-P = -50 + P\]
                                    \[-2P = -50\]
                                    \[P = 25\]
                                </div>
                                <p>所以当价格为 <strong>25</strong> 时，需求弹性为-1。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>需求弹性为-1的经济意义</strong>：此时需求具有单位弹性，价格变动1%会引起需求量反方向变动1%，总收益保持不变。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>概念</th>
                                        <th>数学表达式</th>
                                        <th>本题结果</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>需求弹性函数</td>
                                        <td>\( E_d = \frac{-P}{50 - P} \)</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td>需求弹性为-1时的价格</td>
                                        <td>\( E_d = -1 \) 解得 \( P = 25 \)</td>
                                        <td>25</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>应用</strong>：企业了解需求弹性有助于制定价格策略。当需求缺乏弹性时，提高价格可以增加总收益；当需求富有弹性时，降低价格可以增加总收益；当需求为单位弹性时，价格变动对总收益无影响。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目6 -->
        <div class="problem-card" id="problem6">
            <div class="problem-number">6</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>某商品的需求量 \( Q \) 为价格 \( P \) 的函数 \( Q = 150 - 2P^2 \)，求：</p>
                <p>（1）当 \( P = 6 \) 时的需求弹性，并说明其经济意义；</p>
                <p>（2）当 \( P = 6 \) 时，若价格下降 2%，总收益将变化百分之几？是增加还是减少？</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer6">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer6">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求需求弹性函数</strong>
                                <p>由 \( Q = 150 - 2P^2 \) 得 \( \frac{dQ}{dP} = -4P \)</p>
                                <p>需求弹性 \( E_d = \frac{dQ}{dP} \cdot \frac{P}{Q} = (-4P) \cdot \frac{P}{150 - 2P^2} = \frac{-4P^2}{150 - 2P^2} \)</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>计算 \( P = 6 \) 时的需求弹性</strong>
                                <p>当 \( P = 6 \) 时，\( Q = 150 - 2 \times 6^2 = 150 - 72 = 78 \)</p>
                                <div class="math-formula">
                                    \[E_d = \frac{-4 \times 6^2}{150 - 2 \times 6^2} = \frac{-144}{150 - 72} = \frac{-144}{78} = -\frac{24}{13} \approx -1.846\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>价格下降2%对总收益的影响</strong>
                                <p>总收益 \( R = P \times Q \)，收益变化率近似公式：</p>
                                <div class="math-formula">
                                    \[\frac{\Delta R}{R} \approx (1 + E_d) \cdot \frac{\Delta P}{P}\]
                                </div>
                                <p>已知 \( \frac{\Delta P}{P} = -2\% = -0.02 \)，\( E_d \approx -1.846 \)</p>
                                <div class="math-formula">
                                    \[\frac{\Delta R}{R} \approx (1 - 1.846) \times (-0.02) = (-0.846) \times (-0.02) = 0.01692 = 1.692\%\]
                                </div>
                                <p>所以总收益将增加约 <strong>1.692%</strong>。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>需求弹性与总收益的关系</strong>：当需求富有弹性（\( |E_d| > 1 \)）时，价格下降会使总收益增加；当需求缺乏弹性（\( |E_d| < 1 \)）时，价格下降会使总收益减少。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>价格 \( P \)</th>
                                        <th>需求量 \( Q \)</th>
                                        <th>需求弹性 \( E_d \)</th>
                                        <th>弹性类型</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>6</td>
                                        <td>78</td>
                                        <td>-1.846</td>
                                        <td>富有弹性 (\( |E_d| > 1 \))</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：</p>
                            <p>1. 当 \( P = 6 \) 时，需求弹性约为 -1.846，表示价格变动1%会引起需求量反方向变动约1.846%，需求量对价格变动敏感。</p>
                            <p>2. 由于需求富有弹性，价格下降2%会使总收益增加约1.692%，企业可以通过降价来增加总收益。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目7 -->
        <div class="problem-card" id="problem7">
            <div class="problem-number">7</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>已知某产品的固定成本为100元，每生产一个产品成本增加3元，试求：</p>
                <p>（1）该产品的总成本函数；</p>
                <p>（2）产量为100时的总成本和平均成本。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer7">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer7">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>求总成本函数</strong>
                                <p>总成本 \( C \) 由固定成本 \( C_0 \) 和可变成本 \( V(Q) \) 组成：</p>
                                <div class="math-formula">
                                    \[C(Q) = C_0 + V(Q) = 100 + 3Q\]
                                </div>
                                <p>其中 \( Q \) 为产量。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>计算产量为100时的总成本</strong>
                                <p>当 \( Q = 100 \) 时：</p>
                                <div class="math-formula">
                                    \[C(100) = 100 + 3 \times 100 = 100 + 300 = 400\]
                                </div>
                                <p>所以总成本为 <strong>400元</strong>。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>计算产量为100时的平均成本</strong>
                                <p>平均成本 \( \overline{C}(Q) = \frac{C(Q)}{Q} = \frac{100 + 3Q}{Q} = \frac{100}{Q} + 3 \)</p>
                                <p>当 \( Q = 100 \) 时：</p>
                                <div class="math-formula">
                                    \[\overline{C}(100) = \frac{100}{100} + 3 = 1 + 3 = 4\]
                                </div>
                                <p>所以平均成本为 <strong>4元/件</strong>。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>成本函数</strong>：描述生产成本与产量之间关系的函数。通常包括固定成本（不随产量变化的成本）和可变成本（随产量变化的成本）。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>概念</th>
                                        <th>数学表达式</th>
                                        <th>本题计算结果</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>总成本函数</td>
                                        <td>\( C(Q) = 100 + 3Q \)</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td>产量为100时的总成本</td>
                                        <td>\( C(100) = 400 \)</td>
                                        <td>400元</td>
                                    </tr>
                                    <tr>
                                        <td>产量为100时的平均成本</td>
                                        <td>\( \overline{C}(100) = 4 \)</td>
                                        <td>4元/件</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：固定成本100元是即使不生产也要支付的费用；每多生产一件产品，成本增加3元。当产量为100件时，总成本400元，平均每件产品成本4元。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目8 -->
        <div class="problem-card" id="problem8">
            <div class="problem-number">8</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>设某商品的需求函数为 \( Q = 1000 - \frac{1}{4} P \)，求该商品的收益函数。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer8">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer8">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>由需求函数求价格函数</strong>
                                <p>由 \( Q = 1000 - \frac{1}{4} P \) 得：</p>
                                <div class="math-formula">
                                    \[\frac{1}{4} P = 1000 - Q\]
                                    \[P = 4(1000 - Q) = 4000 - 4Q\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>求收益函数</strong>
                                <p>收益 \( R \) 等于价格乘以销售量：</p>
                                <div class="math-formula">
                                    \[R = P \times Q = (4000 - 4Q) \times Q = 4000Q - 4Q^2\]
                                </div>
                                <p>所以收益函数为 \( R(Q) = 4000Q - 4Q^2 \)。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>收益函数</strong>：表示企业从销售商品中获得的总收入与销售量之间的函数关系，等于价格乘以销售量。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>概念</th>
                                        <th>数学表达式</th>
                                        <th>说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>需求函数</td>
                                        <td>\( Q = 1000 - \frac{1}{4} P \)</td>
                                        <td>需求量与价格的关系</td>
                                    </tr>
                                    <tr>
                                        <td>价格函数</td>
                                        <td>\( P = 4000 - 4Q \)</td>
                                        <td>价格与销售量的关系</td>
                                    </tr>
                                    <tr>
                                        <td>收益函数</td>
                                        <td>\( R(Q) = 4000Q - 4Q^2 \)</td>
                                        <td>收益与销售量的关系</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：收益函数通常是一个二次函数，当销售量增加时，收益先增加后减少，存在一个使收益最大化的销售量。在本例中，当 \( Q = 500 \) 时，收益达到最大值。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目9 -->
        <div class="problem-card" id="problem9">
            <div class="problem-number">9</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>某造纸厂日产量最多为 \( m \) 吨，已知固定成本为 \( a \) 元，每多生产1吨纸，成本增加 \( k \) 元。若每吨纸的售价为 \( P \) 元，试写出利润与产量的函数关系式。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer9">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer9">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>确定成本函数</strong>
                                <p>总成本 \( C \) 由固定成本 \( a \) 和可变成本 \( kQ \) 组成：</p>
                                <div class="math-formula">
                                    \[C(Q) = a + kQ, \quad 0 \leq Q \leq m\]
                                </div>
                                <p>其中 \( Q \) 为日产量（吨）。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>确定收益函数</strong>
                                <p>收益 \( R \) 等于价格乘以销售量：</p>
                                <div class="math-formula">
                                    \[R(Q) = P \times Q, \quad 0 \leq Q \leq m\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>确定利润函数</strong>
                                <p>利润 \( L \) 等于收益减去成本：</p>
                                <div class="math-formula">
                                    \[L(Q) = R(Q) - C(Q) = PQ - (a + kQ) = (P - k)Q - a, \quad 0 \leq Q \leq m\]
                                </div>
                                <p>所以利润函数为 \( L(Q) = (P - k)Q - a \)，其中 \( 0 \leq Q \leq m \)。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>利润函数的一般形式</strong>：利润 = 收益 - 成本 = (价格 × 销售量) - (固定成本 + 单位可变成本 × 产量)。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>函数</th>
                                        <th>数学表达式</th>
                                        <th>参数说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>成本函数</td>
                                        <td>\( C(Q) = a + kQ \)</td>
                                        <td>\( a \): 固定成本，\( k \): 单位可变成本</td>
                                    </tr>
                                    <tr>
                                        <td>收益函数</td>
                                        <td>\( R(Q) = PQ \)</td>
                                        <td>\( P \): 单位价格</td>
                                    </tr>
                                    <tr>
                                        <td>利润函数</td>
                                        <td>\( L(Q) = (P - k)Q - a \)</td>
                                        <td>\( P - k \): 单位毛利</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：利润函数是线性函数，斜率为 \( P - k \)，表示每多生产一吨纸带来的利润增加量。当 \( P > k \) 时，增加产量可以提高利润；当 \( P < k \) 时，生产越多亏损越多。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 题目10 -->
        <div class="problem-card" id="problem10">
            <div class="problem-number">10</div>
            <div class="problem-content">
                <h3><i class="fas fa-question-circle"></i> 题目内容</h3>
                <p>某厂生产一种产品，根据调查数据分析，其需求函数为 \( Q = -800P + 40000 \)，生产该产品的固定成本为240000元，而单位可变成本为10元，求该产品的利润函数。</p>
                
                <!-- 隐藏的答案 -->
                <div class="hidden-answer">
                    <button class="toggle-btn" data-target="answer10">
                        <span>显示答案</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="answer-content" id="answer10">
                        <div class="solution">
                            <h3 class="subtitle"><i class="fas fa-pencil-alt"></i> 解题详解</h3>
                            <div class="step">
                                <span class="step-number">1</span>
                                <strong>确定成本函数</strong>
                                <p>总成本 \( C \) 由固定成本和可变成本组成：</p>
                                <div class="math-formula">
                                    \[C(Q) = 240000 + 10Q\]
                                </div>
                                <p>其中 \( Q \) 为产量。</p>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">2</span>
                                <strong>由需求函数求价格函数</strong>
                                <p>由 \( Q = -800P + 40000 \) 得：</p>
                                <div class="math-formula">
                                    \[800P = 40000 - Q\]
                                    \[P = \frac{40000 - Q}{800} = 50 - \frac{Q}{800}\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">3</span>
                                <strong>确定收益函数</strong>
                                <p>收益 \( R = P \times Q \)：</p>
                                <div class="math-formula">
                                    \[R(Q) = \left(50 - \frac{Q}{800}\right) \times Q = 50Q - \frac{Q^2}{800}\]
                                </div>
                            </div>
                            
                            <div class="step">
                                <span class="step-number">4</span>
                                <strong>确定利润函数</strong>
                                <p>利润 \( L = R - C \)：</p>
                                <div class="math-formula">
                                    \[L(Q) = R(Q) - C(Q) = \left(50Q - \frac{Q^2}{800}\right) - (240000 + 10Q) = 40Q - \frac{Q^2}{800} - 240000\]
                                </div>
                                <p>所以利润函数为 \( L(Q) = 40Q - \frac{Q^2}{800} - 240000 \)。</p>
                            </div>
                        </div>
                        
                        <div class="concept">
                            <h3 class="subtitle"><i class="fas fa-lightbulb"></i> 概念解析</h3>
                            <p><strong>利润函数的构建</strong>：基于需求函数、固定成本和可变成本构建利润函数是微观经济学中的基本问题。</p>
                            
                            <table class="concept-table">
                                <thead>
                                    <tr>
                                        <th>函数</th>
                                        <th>数学表达式</th>
                                        <th>说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>需求函数</td>
                                        <td>\( Q = -800P + 40000 \)</td>
                                        <td>线性需求函数</td>
                                    </tr>
                                    <tr>
                                        <td>成本函数</td>
                                        <td>\( C(Q) = 240000 + 10Q \)</td>
                                        <td>固定成本240000元，单位可变成本10元</td>
                                    </tr>
                                    <tr>
                                        <td>收益函数</td>
                                        <td>\( R(Q) = 50Q - \frac{Q^2}{800} \)</td>
                                        <td>二次函数，开口向下</td>
                                    </tr>
                                    <tr>
                                        <td>利润函数</td>
                                        <td>\( L(Q) = 40Q - \frac{Q^2}{800} - 240000 \)</td>
                                        <td>二次函数，开口向下</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>经济意义</strong>：利润函数是开口向下的二次函数，存在一个使利润最大化的产量。企业可以通过求导找到最优产量：令 \( L'(Q) = 0 \)，即 \( 40 - \frac{Q}{400} = 0 \)，解得 \( Q = 16000 \)，此时利润最大。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 获取所有切换按钮
            const toggleButtons = document.querySelectorAll('.toggle-btn');
            const answerContents = document.querySelectorAll('.answer-content');
            
            // 为每个切换按钮添加点击事件
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const answerContent = document.getElementById(targetId);
                    
                    // 切换答案区域的展开/折叠状态
                    if (answerContent.classList.contains('expanded')) {
                        answerContent.classList.remove('expanded');
                        this.querySelector('span').textContent = '显示答案';
                        this.classList.remove('active');
                    } else {
                        answerContent.classList.add('expanded');
                        this.querySelector('span').textContent = '隐藏答案';
                        this.classList.add('active');
                    }
                    
                    // 重新渲染MathJax公式（展开时）
                    if (window.MathJax && answerContent.classList.contains('expanded')) {
                        MathJax.typesetPromise([answerContent]);
                    }
                });
            });
            
            // 展开所有答案按钮
            document.getElementById('expand-all').addEventListener('click', function() {
                answerContents.forEach(content => {
                    content.classList.add('expanded');
                });
                
                toggleButtons.forEach(button => {
                    button.querySelector('span').textContent = '隐藏答案';
                    button.classList.add('active');
                });
                
                // 重新渲染所有MathJax公式
                if (window.MathJax) {
                    MathJax.typesetPromise();
                }
            });
            
            // 折叠所有答案按钮
            document.getElementById('collapse-all').addEventListener('click', function() {
                answerContents.forEach(content => {
                    content.classList.remove('expanded');
                });
                
                toggleButtons.forEach(button => {
                    button.querySelector('span').textContent = '显示答案';
                    button.classList.remove('active');
                });
            });
            
            // 随机展开一个答案按钮
            document.getElementById('toggle-random').addEventListener('click', function() {
                // 先折叠所有答案
                answerContents.forEach(content => {
                    content.classList.remove('expanded');
                });
                
                toggleButtons.forEach(button => {
                    button.querySelector('span').textContent = '显示答案';
                    button.classList.remove('active');
                });
                
                // 随机选择一个答案展开
                const randomIndex = Math.floor(Math.random() * answerContents.length);
                const randomContent = answerContents[randomIndex];
                const randomButton = toggleButtons[randomIndex];
                
                randomContent.classList.add('expanded');
                randomButton.querySelector('span').textContent = '隐藏答案';
                randomButton.classList.add('active');
                
                // 滚动到随机展开的题目
                randomContent.scrollIntoView({ behavior: 'smooth', block: 'start' });
                
                // 重新渲染MathJax公式
                if (window.MathJax) {
                    MathJax.typesetPromise([randomContent]);
                }
            });
            
            // MathJax配置
            MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                },
                svg: {
                    fontCache: 'global'
                }
            };
            
            // 打印提示
            console.log("提示：按Ctrl+P可以打印所有题目和答案（打印时答案会自动展开）。");
        });
    </script>
</body>
</html>
